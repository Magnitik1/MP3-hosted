{"ast":null,"code":"import React from'react';import'./modal.css';import SelectSongs from'./SelectSongs/SelectSongs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=function Modal(props){var keydownHandler=function keydownHandler(_ref){var key=_ref.key;switch(key){case'Escape':props.state.length=1;props.onClose();break;default:}};var newPlaylistElement=/*#__PURE__*/React.createRef();var createPlaylist=function createPlaylist(){if(newPlaylistElement.current.value.trim()==\"\"||newPlaylistElement.current.value.includes('/')){return;}var mysongs=[];for(var i=0;i<props.state.length;i++){if(!isNaN(props.state[i])){mysongs.push(props.state[i]);}}var temp={id:props.allplaylists.length+1,name:newPlaylistElement.current.value.trim(),picture:props.AllSongs.find(function(e){return e.id==mysongs[0];}).url,songs:mysongs};if(temp.name==\"\"||mysongs.length<1||props.allplaylists.find(function(e){return e.name===temp.name;})||temp.name.includes(\"%20\")){props.onClose();props.state.length=1;return;}props.allplaylists.push(temp);props.onClose();props.state.length=1;};React.useEffect(function(){document.addEventListener('keydown',keydownHandler);return function(){return document.removeEventListener('keydown',keydownHandler);};});var AllSongs2=props.AllSongs.map(function(e){return/*#__PURE__*/_jsx(SelectSongs,{name:e.name,id:e.id,state:props.state});});return!props.isVisible?null:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:props.onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-dialog\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"span\",{className:\"modal-close\",onClick:props.onClose,children:\"\\xD7\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:/*#__PURE__*/_jsx(\"input\",{className:\"listName\",type:\"text\",ref:newPlaylistElement,placeholder:\"Playlist Name\"})}),AllSongs2]}),props.footer&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",onClick:createPlaylist,children:props.footer})]})});};export default Modal;","map":{"version":3,"names":["React","SelectSongs","Modal","props","keydownHandler","key","state","length","onClose","newPlaylistElement","createRef","createPlaylist","current","value","trim","includes","mysongs","i","isNaN","push","temp","id","allplaylists","name","picture","AllSongs","find","e","url","songs","useEffect","document","addEventListener","removeEventListener","AllSongs2","map","isVisible","stopPropagation","footer"],"sources":["C:/Users/Lenovo/Documents/GitHub/MP3-hosted/src/Components/Sidebar/Navigation/Library/Model/Modal.jsx"],"sourcesContent":["import React from 'react';\r\nimport './modal.css';\r\nimport SelectSongs from './SelectSongs/SelectSongs';\r\n\r\nconst Modal = (props) => {\r\n    const keydownHandler = ({ key }) => {\r\n        switch (key) {\r\n            case 'Escape':\r\n                props.state.length=1;\r\n                props.onClose();\r\n                break;\r\n            default:\r\n                \r\n        }\r\n    };\r\n    let newPlaylistElement = React.createRef();\r\n\r\n    let createPlaylist = () => {\r\n        if((newPlaylistElement.current.value).trim()==\"\"||(newPlaylistElement.current.value).includes('/')){\r\n            return;\r\n        }\r\n        let mysongs=[];\r\n        for(let i=0;i<props.state.length;i++){\r\n            if(!isNaN(props.state[i])){\r\n                mysongs.push(props.state[i]);\r\n            }\r\n        }\r\n        let temp ={\r\n        id: props.allplaylists.length+1,\r\n        name:(newPlaylistElement.current.value).trim(),\r\n        picture:props.AllSongs.find(e=>e.id==mysongs[0]).url,\r\n        songs:mysongs,\r\n    };   \r\n        if(temp.name==\"\"||mysongs.length<1||props.allplaylists.find(e=>e.name===temp.name)||temp.name.includes(\"%20\")){props.onClose();props.state.length=1;return;}\r\n        props.allplaylists.push(temp);\r\n        props.onClose();\r\n        props.state.length=1;\r\n        \r\n      };\r\n\r\n\r\n    React.useEffect(() => {\r\n        document.addEventListener('keydown', keydownHandler);\r\n        return () => document.removeEventListener('keydown', keydownHandler);\r\n    });\r\n    \r\n    let AllSongs2=props.AllSongs.map(e=><SelectSongs name={e.name} id={e.id} state={props.state}/>);\r\n\r\n    return !props.isVisible ? null : (\r\n        <div className=\"modal\" onClick={props.onClose}>\r\n            <div className=\"modal-dialog\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <span className=\"modal-close\" onClick={props.onClose}>\r\n                        &times;\r\n                    </span>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"modal-content\">\r\n                        <input className=\"listName\" type=\"text\" ref={newPlaylistElement} placeholder='Playlist Name' />\r\n                    </div>\r\n                    {AllSongs2}\r\n                </div>\r\n                {props.footer && <div className=\"modal-footer\" onClick={createPlaylist}>{props.footer}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Modal"],"mappings":"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"},"metadata":{},"sourceType":"module"}